---
title: Comercio electrónico
description: Una introducción para agregar opciones de comercio electrónico a tu sitio de Astro.
i18nReady: true
---
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'
import ReadMore from '~/components/ReadMore.astro'

Con Astro, puedes construir varias opciones de comercio electrónico, desde enlaces de pago hasto páginas de pago alojadas y construir una tienda utilizando una API de servicios de pago.

## Overlays de procesamiento de pagos

Algunos servicios de procesamiento de pago (p. ej. [Lemon Squeezy](#lemon-squeezy), [Paddle](#paddle)) agregan un formulario de pago para que tu cliente pueda comprar en tu sitio. Estos pueden ser overlays alojados o incrustados en una página de tu sitio. Estos pueden ofrecer alguna personalización básica o branding del sitio, y pueden agregarse a tu proyecto de Astro como scripts, botones o enlaces externos.

### Lemon Squeezy

[Lemon Squeezy](https://www.lemonsqueezy.com/) es una plataforma todo-en-uno para pagos y suscripciones con soporte multidivisa, cumplimiento tributario global, integración con Paypal y más. Te permite crear y administrar productos y servicios digitales a través de tu panel de control de cuenta y proporciona URLs de productos para el proceso de pago.

La biblioteca básica de [Lemon.js para JavaScript](https://docs.lemonsqueezy.com/help/lemonjs/what-is-lemonjs) te permite vender tus productos de Lemon Squeezy con un enlace de pago.

#### Uso Básico

El siguiente es un ejemplo de cómo agregar un elemento "Comprar ahora" de Lemon Squeezy a una página de Astro. Al hacer clic en este enlace, se abrirá un proceso de pago y permitirá al visitante completar una compra única.

1. Agrega la siguiente etiqueta `<script>` al `head` o `body` de tu página:

    ```html title="src/pages/my-product-page.astro"
    <script src="https://app.lemonsqueezy.com/js/lemon.js" defer></script>
    ```
2. Crea una etiqueta de tipo ancla que enlace con la URL de tu producto. Incluye la clase `lemonsqueezy-button` para abrir un overlay de pago al hacer clic.

    ```html title="src/pages/my-product-page.astro"
    <a class="lemonsqueezy-button" href="https://demo.lemonsqueezy.com/checkout/...">
      Comprar ahora
    </a>
    ```

#### Lemon.js

Lemon.js también proporciona comportamientos adicionales como [abrir overlays mediante programación](https://docs.lemonsqueezy.com/help/lemonjs/opening-overlays) y [gestionar eventos del overlay](https://docs.lemonsqueezy.com/help/lemonjs/opening-overlays).

<ReadMore>Lee la [guía de inicio para desarrolladores de Lemon Squeezy](https://docs.lemonsqueezy.com/guides/developer-guide) para más información.</ReadMore>

### Paddle

[Paddle](https://www.paddle.com/) es una solución de facturación para servicios y productos digitales. Se encarga de los pagos, impuestos y suscripciones a través de un overlay o un proceso de pagos en línea.

[Paddle.js](https://developer.paddle.com/paddlejs/overview) es una biblioteca ligera de JavaScript que te permite construir experiencias de facturación de suscripciones ricas e integradas utilizando Paddle.

#### Uso Básico

El siguiente es un ejemplo de añadir un elemento "Comprar ahora" de Paddle a una página de Astro. Hacer clic en este enlace abrirá un proceso de pago y permitirá al visitante completar una única compra.

Después de que Paddle apruebe tu dominio de enlace de pago predeterminado (tu propio sitio web), puedes convertir cualquier elemento de tu página en un trigger para un overlay de pago mediante atributos data de HTML.

1. Agrega la siguiente etiqueta `<script>` al `head` o `body` de tu página:

    ```html title="src/pages/my-product-page.astro"
    <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
    <script type="text/javascript">
      Paddle.Setup({ 
        token: '7d279f61a3499fed520f7cd8c08' // reemplazar con un token en el lado del cliente
      });
    </script>
    ```
2. Convierte cualquier elemento de tu página en un botón de pago de Paddle añadiendo la clase `paddle_button`:

    ```html title="src/pages/my-product-page.astro"
    <a href='#' class='paddle_button'>Comprar ahora</a>
    ```
3. Agrega el atributo `data-items` para especificar el `priceID` y `quantity` de tu producto de Paddle. También puedes pasar opcionalmente [atributos data de HTML adicionales soportados](https://developer.paddle.com/paddlejs/html-data-attributes) para rellenar datos, manejar el éxito del proceso de pago o estilizar tu botón y overlay de pago.

    ```html title="src/pages/my-product-page.astro"
    <a 
      href='#' 
      class='paddle_button'
      data-display-mode='overlay'
      data-theme='light'
      data-locale='en'
      data-success-url='https://example.com/thankyou'
      data-items='[
        {
        "priceId": "pri_01gs59hve0hrz6nyybj56z04eq", 
        "quantity": 1
        }
      ]'
      >
      Comprar ahora
    </a>
    ```

#### Paddle.js

En lugar de pasar atributos data de HTML, puedes enviar datos al overlay de pago usando JavaScript para pasar múltiples atributos y lograr una personalización aún mayor. También puedes crear flujos de actualización utilizando un proceso de pago en línea integrado.

<ReadMore>Lee más acerca de [usar Paddle.js para construir un proceso de pago en línea](https://developer.paddle.com/build/checkout/build-branded-inline-checkout).</ReadMore>


## Soluciones de comercio electrónico completas

Para obtener más personalización sobre el carrito y proceso de pago, puedes conectar un proveedor de servicios financieros más completo (p. ej. [Snipcart](#snipcart)) a tu proyecto de Astro.
Estas plataformas de comercio electrónico también pueden integrarse con otros servicios de terceros para la gestión de cuentas de usuarios, personalización, inventario y análisis.

### Snipcart

[Snipcart](https://snipcart.com/) es una plataforma de carrito de compras HTML/JavaScript potente, orientada a desarrolladores.

Snipcart also allows you to integrate with third-party services such as shipping providers, enable webhooks for an advanced e-commerce integration between your shopping cart and other systems, choose from several payment gateways (e.g. Stripe, Paypal, and Square), customize email templates, and even provides live testing environments.

:::tip
Want a pre-built Snipcart solution instead? Check out [`astro-snipcart`](https://astro-snipcart.vercel.app/), a fully functional Astro community template including an optional design system, ready for you to integrate with your existing Snipcart account.
:::

#### Uso Básico

The following is an example of configuring a Snipcart checkout and adding button elements for "Add to cart" and "Check out now" to an Astro page. This will allow your visitors to add products to a cart without being immediately sent to a checkout page.

<ReadMore>For complete instructions, including setting up your Snipcart store, please see [the Snipcart installation documentation](https://docs.snipcart.com/v3/setup/installation).</ReadMore>

1. Add the script [as shown in the Snipcart installation instructions](https://docs.snipcart.com/v3/setup/installation) on your page after the `<body>` element.
    ```html title="src/pages/my-product-page.astro"
    <body></body>
    <script>
      window.SnipcartSettings = {
        publicApiKey: "YOUR_API_KEY",
        loadStrategy: "on-user-interaction",
      };

      (function()...); // available from the Snipcart documentation
    </script>
    ```

2. Customize `window.SnipcartSettings` with any of the [available Snipcart settings](https://docs.snipcart.com/v3/setup/installation#setting2) to control the behavior and appearance of your cart.

    ```html title="src/pages/my-product-page.astro"
    <script>
      window.SnipcartSettings = {
        publicApiKey: "YOUR_API_KEY",
        loadStrategy: "manual",
        version: "3.7.1",
        addProductBehavior: "none",
        modalStyle: "side",

      };

      (function()...); // available from the Snipcart documentation
    </script>
    ```

4. Add `class="snipcart-add-item"` to any HTML element, such as a `<button>`, to add an item to the cart when clicked on. Also include any other data elements for [common Snipcart product attributes](https://docs.snipcart.com/v3/setup/products) such as price and description, and any optional fields.

    ```html title="src/pages/my-product-page.astro"
    <button class="snipcart-add-item"
      data-item-id="astro-print"
      data-item-price="39.99"
      data-item-description="A framed print of the Astro logo."
      data-item-image="/assets/images/astro-print.jpg"
      data-item-name="Astro Print"
      data-item-custom1-name="Frame color"
      data-item-custom1-options="Brown|Silver[+10.00]|Gold[+20.00]"
      data-item-custom2-name="Delivery instructions"
      data-item-custom2-type="textarea">
      
      Add to cart
    </button>
    ```

6. Add a Snipcart checkout button with the `snipcart-checout` class to open the cart and allow guests to complete their purchase with a checkout modal.

    ```html title="src/pages/my-product-page.astro"
    <button class="snipcart-checkout">Click here to checkout</button>
    ```

#### Snipcart JavaScript SDK

The [Snipcart JavaScript SDK](https://docs.snipcart.com/v3/sdk/basics) lets you configure, customize and manage your Snipcart cart programmatically.

This allows you to perform actions such as:

- Retrieve relevant information about the current Snipcart session and apply certain operations to the cart.
- Listen to incoming events and trigger callbacks dynamically.
- Listen to state changes and receive a full snapshot of the state of the cart.

<ReadMore>See the [Snipcart documentation](https://docs.snipcart.com/v3/) for more more information about all the options to integrate Snipcart with your Astro Project.</ReadMore>

#### `astro-snipcart`

There are two `astro-snipcart` community packages that can simplify using Snipcart.

- [`@lloydjatkinson/astro-snipcart` Astro template](https://astro-snipcart.vercel.app/): This Astro template includes an optional design system for a complete e-commerce solution out of the box. Learn more on its own extensive documentation site, including [the motivation behind building `astro-snipcart`](https://astro-snipcart.vercel.app/motivation) as providing a convenient, Astro-native way for you to interact with the Snipcart API.

- [`@Adammatthiesen/astro-snipcart` integration](https://github.com/Adammatthiesen/astro-snipcart): This integration was heavily inspired by the `astro-snipcart` theme and provides Astro components (or Vue components) that you can add to your existing Astro project for creating products, controlling the cart, and more. See the [full tutorial](https://matthiesen.xyz/blog/getting-started-with-my-astro-snipcart-addon) for more information.

## Recursos de la comunidad

- [Experiencia práctica: ¿Tienda de comercio electrónico con Astro?](https://crystallize.com/blog/building-ecommerce-with-astro)